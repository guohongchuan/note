### 红帽笔记

### RHCSA

0 破解开机密码

 按 ‘e’ 进入 ”救援模式“，倒数第二行末尾  输入 init=/bin/bash

重新挂载 mount -o remount,rw /

修改密码 echo '###' | passwd --stdin root

touch /.autorelabel

exec /sbin/init

1 网络和主机名配置

修改主机名  hostname set-hostname NAME

修改网卡配置  vim /etc/sysconfig/network-scripts/ifcfg-eth0

DEVICE=eth0               #网络接口名称
TYPE=Ethernet             #网络接口类型
ONBOOT=yes                #系统启动时，是否激活  yes：系统启动时激活  no：系统启动时不激活
IPADDR=192.168.30.128     #IP地址
BOOTPROTO=static          #系统启动地址协议 none：不使用启动地址协议 dhcp：DHCP动态地址协议 static：静态地址协议 bootp：BOOTP协议
NETMASK=255.255.255.0     #子网掩码
GATEWAY=                  #网关地址

修改 selinux    vim /etc/selinux/config  别忘了临时生效  setenforce 1

2 配置本地yum源

[local]

name=local

baseurl=

enabled=1

gpgcheck=0

3 扩展逻辑卷

lvextend -L +98M /dev/**

同步文件系统

xfs格式：xfs_growfs /home

ext格式：resize2fs /home

4  创建用户和用户组

​	useradd -G 指定组 -u 指定shell

​     配置文件权限 setfacl -m -u:natasha:rw- /vat/tmp/fstab

6 定时任务

  格式

  分 时 日 月 周

7 配置目录权限

  chgrp  adminuser /home

  chmod g+s /home

8 安装新内核

9 配置LDAP

yum list auth*

yum install authconfig-gtk.x86_64

authconfig-gtk &

yum install nss-pam-ldapd

10  配置ntp

yum install system-config-date

11 autofs

​    yum install autofs -y

​	vim /etc/auto.master

​	/home/guests /etc/auto.guo

​	cp /etc/auto.misc /etc/auto.aa

​	ldapuser11	-fstype=nfs,rw,vers=3	host.rhce.cc:/home/guests/ldapuser11

​	systemctl restart autofs

​	注意设置开机启动

​	systemctl enable autofs

12 指定id新建用户

13 新增交换分区

新增分区后，partprobe /dev/vda5

mkswap /dev/vda5

vim /etc/fstab

/dev/vda5	swap	swap	defaults	0	0

swapon -a

swapon -s

14  find命令

find / -user ira -exec cp -a {} /root/ \；

注意-a参数，复制后不改变原有权限

16 压缩文件

bzip2格式：tar -jcvf *.tar.bzip2 *

gzipg格式： tar -zcvf  *.tar.gz *

17  新建逻辑卷

分完区记得partprobe /dev/sda

pvcreate /dev/sda

vgcreate -s 16 datastore /dev/sda

lvcreate -L 50 -n database datastore

mkfs.vfat

yum whatprovides */mkfs.vfat

yum install dosfstools-3.0.20-9.el7.x86_64

### RHCE

2 配置tcpwrap

/etc/hosts.deny  /etc/host.allow

格式  sshd:客户端   注意：域名前要加点

sshd : .example.com

sshd : 192.168.122.0/255.255.255.0

3 自定义用户环境

vim /etc/bashrc

alias qstat='efaaefa'

4 配置端口转发

man -k firewall     查看文档  复制 example3和5 到文本文档



